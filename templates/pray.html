<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å§»ç·£ç¥ˆç¦ - å»Ÿå®‡éˆ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function startThrow() {
            document.getElementById("result").innerText = "æ“²èŒ­ä¸­...";
            fetch("/start_throw")
                .then(response => response.json())
                .then(data => {
                    if (data.status === "processing") {
                        checkResult();
                    } else {
                        document.getElementById("result").innerText = "æ“²èŒ­å¤±æ•—ï¼Œè«‹é‡è©¦";
                    }
                });
        }

        function checkResult() {
            setTimeout(() => {
                fetch("/get_result")
                    .then(response => response.json())
                    .then(data => {
                        if (data.status === "PENDING") {
                            checkResult();
                        } else if (data.status === "DONE") {
                            document.getElementById("result").innerText = "æ“²èŒ­çµæœï¼š" + data.result;
                            document.getElementById("resultImage").src = "{{ url_for('static', filename='images/') }}" + data.result + ".png";
                            document.getElementById("throwBtn").disabled = false;
                        }
                    });
            }, 1000);
        }
    </script>
</head>
<body>

    <!-- ğŸ“Œ å›ºå®šé¸å–®åˆ— -->
    <header>
        <div class="logo">å»Ÿå®‡éˆ</div>
        <nav>
            <ul>
                <li><a href="/">é¦–é </a></li>
                <li><a href="/pray">å‰å¾€ç¥ˆç¦</a></li>
                <li><a href="/contact">è¯çµ¡æˆ‘å€‘</a></li>
            </ul>
        </nav>
    </header>

    <!-- ğŸ“Œ ç¥ˆç¦å…§å®¹ -->
    <main class="pray-container">

        <!-- ğŸ“Œ å·¦å´æ•˜è¿°å€ -->
        <section class="description">
            <h2>å§»ç·£ç¥ˆç¦</h2>
            <p>ç¥ˆæ±‚ç¾å¥½å§»ç·£ï¼Œè®“ç¥æ˜æŒ‡å¼•æ‚¨é‡è¦‹é©åˆçš„å¦ä¸€åŠã€‚</p>
            <h2>åƒæ‹œæµç¨‹</h2>
            <ol>
                <li>æº–å‚™ä¾›å“ä¸¦èª å¿ƒç¥ˆç¦±</li>
                <li>è«‹ç¤ºç¥æ˜ï¼Œç²å–æŒ‡å¼•</li>
                <li>å¯ä½¿ç”¨æ“²èŒ­åŠŸèƒ½é€²ä¸€æ­¥è©¢å•ç¥æ˜</li>
            </ol>
        </section>

        <!-- ğŸ“Œ æ­£ä¸­é–“ç¥æ˜ç¥ˆç¦å€ -->
        <section class="main-area">
            <h2>ç¥æ˜</h2>
            <img src="{{ url_for('static', filename='images/shenming.png') }}" alt="ç¥æ˜åœ–åƒ">
        </section>

        <!-- ğŸ“Œ å³å´é™„åŠ åŠŸèƒ½å€ -->
        <section class="extra">

            <!-- ğŸ“Œ æ“²èŒ­çµæœ & æ“²èŒ­è¦–è¨Š -->
            <h2>æ“²èŒ­çµæœ</h2>
            <img id="resultImage" src="{{ url_for('static', filename='images/default.png') }}" alt="æ“²èŒ­çµæœ">
            <img src="http://192.168.1.100:81/stream" alt="æ“²èŒ­è¦–è¨Šç•«é¢">

            <!-- ğŸ“Œ æ“²èŒ­ / æŠ½ç±¤ / è§£ç±¤ æŒ‰éˆ•ï¼ˆæ©«å‘æ’åˆ—ï¼‰ -->
            <div class="button-group">
                <button id="throwBtn" onclick="startThrow()">æ“²èŒ­</button>
                <button class="disabled">æŠ½ç±¤</button>
                <button class="disabled">è§£ç±¤</button>
            </div>

            <!-- ğŸ“Œ æŠ½ç±¤å€ï¼ˆç›®å‰ä½¿ç”¨ç±¤ç­’åœ–ç‰‡ï¼‰ -->
            <h2>æŠ½ç±¤</h2>
            <img src="{{ url_for('static', filename='images/qiantong.png') }}" alt="ç±¤ç­’">

        </section>

    </main>

</body>
</html>
